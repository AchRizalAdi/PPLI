{"remainingRequest":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\Codeee\\PPLI FE BE\\PPLI\\src\\App.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\src\\App.vue","mtime":1658501745971},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657682274000},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\babel-loader\\lib\\index.js","mtime":1657682274000},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657682274000},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1657682290000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsNCiAgaWYgKHRvLm1hdGNoZWQuc29tZShyZWNvcmQgPT4gcmVjb3JkLm1ldGEucmVxdWlyZXNBdXRoKSkgew0KICAgIGxldCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpICE9IG51bGw7DQogICAgaWYgKCF0b2tlbikgew0KICAgICAgbmV4dCh7DQogICAgICAgIHBhdGg6ICcvbG9naW4nLA0KICAgICAgICBxdWVyeTogew0KICAgICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aA0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0gZWxzZSB7DQogICAgICBsZXQgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSkNCiAgICAgIGxldCByb2xlcyA9IHVzZXIucm9sZXMubWFwKHJvbGUgPT4gcm9sZS5uYW1lKQ0KICAgICAgY29uc29sZS5sb2cocm9sZXNbMF0pOw0KICAgICAgaWYgKHRvLm1hdGNoZWQuc29tZShyZWNvcmQgPT4gcmVjb3JkLm1ldGEuaXNVc2VyKSkgew0KICAgICAgICBpZiAocm9sZXMuaW5jbHVkZXMoJ3VzZXInKSkgbmV4dCgpDQogICAgICAgIGVsc2UgaWYgKHJvbGVzWzBdID09PSAnYWRtaW4nKSB7DQogICAgICAgICAgbmV4dCh7DQogICAgICAgICAgICBuYW1lOiAnYWRtaW4nDQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIGlmIChyb2xlc1swXSA9PT0gJ21hbmFnZXInKSB7DQogICAgICAgICAgbmV4dCh7DQogICAgICAgICAgICBuYW1lOiAnbWFuYWdlcicNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgbmV4dCh7DQogICAgICAgICAgbmFtZTogJ2hvbWUnDQogICAgICAgIH0pDQogICAgICB9IGVsc2UgaWYgKHRvLm1hdGNoZWQuc29tZShyZWNvcmQgPT4gcmVjb3JkLm1ldGEuaXNBZG1pbikpIHsNCiAgICAgICAgaWYgKHJvbGVzLmluY2x1ZGVzKCdhZG1pbicpKSBuZXh0KCkNCiAgICAgICAgZWxzZSBpZiAocm9sZXNbMF0gPT09ICdtYW5hZ2VyJykgew0KICAgICAgICAgIG5leHQoew0KICAgICAgICAgICAgbmFtZTogJ21hbmFnZXInDQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIGlmIChyb2xlc1swXSA9PT0gJ3VzZXInKSB7DQogICAgICAgICAgbmV4dCh7DQogICAgICAgICAgICBuYW1lOiAndXNlcicNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgbmV4dCh7DQogICAgICAgICAgbmFtZTogJ2hvbWUnDQogICAgICAgIH0pDQoNCiAgICAgIH0gZWxzZSBpZiAodG8ubWF0Y2hlZC5zb21lKHJlY29yZCA9PiByZWNvcmQubWV0YS5pc01hbmFnZXIpKSB7DQogICAgICAgIGlmIChyb2xlcy5pbmNsdWRlcygnbWFuYWdlcicpKSBuZXh0KCkNCiAgICAgICAgZWxzZSBpZiAocm9sZXNbMF0gPT09ICd1c2VyJykgew0KICAgICAgICAgIG5leHQoew0KICAgICAgICAgICAgbmFtZTogJ3VzZXInDQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIGlmIChyb2xlc1swXSA9PT0gJ2FkbWluJykgew0KICAgICAgICAgIG5leHQoew0KICAgICAgICAgICAgbmFtZTogJ2FkbWluJw0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSBuZXh0KHsNCiAgICAgICAgICBuYW1lOiAnaG9tZScNCiAgICAgICAgfSkNCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbmV4dCgpDQogICAgICB9DQogICAgfQ0KICB9IGVsc2Ugew0KICAgIG5leHQoKQ0KICB9DQp9KQ0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQXBwJywNCn0NCg=="},{"version":3,"sources":["E:\\Codeee\\PPLI FE BE\\PPLI\\src\\App.vue"],"names":[],"mappings":"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","file":"E:/Codeee/PPLI FE BE/PPLI/src/App.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <router-view :key=\"$route.path\"/>\r\n</template>\r\n\r\n<script>\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.matched.some(record => record.meta.requiresAuth)) {\r\n    let token = localStorage.getItem('token') != null;\r\n    if (!token) {\r\n      next({\r\n        path: '/login',\r\n        query: {\r\n          redirect: to.fullPath\r\n        }\r\n      })\r\n    } else {\r\n      let user = JSON.parse(localStorage.getItem('user'))\r\n      let roles = user.roles.map(role => role.name)\r\n      console.log(roles[0]);\r\n      if (to.matched.some(record => record.meta.isUser)) {\r\n        if (roles.includes('user')) next()\r\n        else if (roles[0] === 'admin') {\r\n          next({\r\n            name: 'admin'\r\n          })\r\n        } else if (roles[0] === 'manager') {\r\n          next({\r\n            name: 'manager'\r\n          })\r\n        } else next({\r\n          name: 'home'\r\n        })\r\n      } else if (to.matched.some(record => record.meta.isAdmin)) {\r\n        if (roles.includes('admin')) next()\r\n        else if (roles[0] === 'manager') {\r\n          next({\r\n            name: 'manager'\r\n          })\r\n        } else if (roles[0] === 'user') {\r\n          next({\r\n            name: 'user'\r\n          })\r\n        } else next({\r\n          name: 'home'\r\n        })\r\n\r\n      } else if (to.matched.some(record => record.meta.isManager)) {\r\n        if (roles.includes('manager')) next()\r\n        else if (roles[0] === 'user') {\r\n          next({\r\n            name: 'user'\r\n          })\r\n        } else if (roles[0] === 'admin') {\r\n          next({\r\n            name: 'admin'\r\n          })\r\n        } else next({\r\n          name: 'home'\r\n        })\r\n\r\n      } else {\r\n        next()\r\n      }\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n})\r\nexport default {\r\n  name: 'App',\r\n}\r\n</script>\r\n"]}]}