{"remainingRequest":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\babel-loader\\lib\\index.js!E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\Codeee\\PPLI FE BE\\PPLI\\src\\components\\section\\LoginSection.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\src\\components\\section\\LoginSection.vue","mtime":1658990881090},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\babel.config.js","mtime":1657682266000},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657682274000},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\babel-loader\\lib\\index.js","mtime":1657682274000},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657682274000},{"path":"E:\\Codeee\\PPLI FE BE\\PPLI\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1657682290000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gSW1wb3J0IGNvbXBvbmVudCBkYXRhLiBZb3UgY2FuIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgdG8gcmVmbGVjdCBpbiBhbGwgY29tcG9uZW50CmltcG9ydCBTZWN0aW9uRGF0YSBmcm9tICdAL3N0b3JlL3N0b3JlLmpzJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpblNlY3Rpb24nLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgU2VjdGlvbkRhdGEsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHNhbGFoOiBmYWxzZQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy4kcm91dGUucGFyYW1zLm1lc3NhZ2UgKyAnIFBsZWFzZSBsb2dpbiEnOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGxvZ2luRm9ybSgpIHsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9sb2dpbicsIHsKICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyBpc1N1Y2Nlc3M6IHRydWUsCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5hdXRob3Jpc2F0aW9uLnRva2VuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEudXNlcikpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3BvbnNlLmRhdGEuYXV0aG9yaXNhdGlvbi50b2tlbik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Blcm1pc3Npb24nLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLnBlcm1pc3Npb24pKTsKICAgICAgICBsZXQgbG9naW5UeXBlID0gcmVzcG9uc2UuZGF0YS51c2VyLnJvbGVzOwoKICAgICAgICBpZiAobG9naW5UeXBlID09PSAnbWVtYmVyJykgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTsKICAgICAgICB9IGVsc2UgaWYgKGxvZ2luVHlwZSA9PT0gJ2FkbWluJykgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9vZmZlcnMnKTsgLy8gfSBlbHNlIGlmIChsb2dpblR5cGUgPT09ICdtYW5hZ2VyJykgewogICAgICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCgnbWFuYWdlcicpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRlbWl0KCdsb2dnZWRJbicpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy5zYWxhaCA9IHRydWUsIHRoaXMuJHRvYXN0LmVycm9yKCJFbWFpbCBhdGF1IFBhc3N3b3JkIFNhbGFoIik7CiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgIH0pOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgLyogID09PT09PT09IFNob3cvSGlkZSBwYXNzb3dvcmQgPT09PT09PT0gKi8KICAgIGZ1bmN0aW9uIHNob3dIaWRlUGFzc3dvcmQoc2VsZWN0b3IpIHsKICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsKCiAgICAgIGlmIChlbGVtLmxlbmd0aCA+IDApIHsKICAgICAgICBlbGVtLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXRlbS5nZXRBdHRyaWJ1dGUoImhyZWYiKSk7CgogICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUgPT0gInBhc3N3b3JkIikgewogICAgICAgICAgICAgIHRhcmdldC50eXBlID0gInRleHQiOwogICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgiaXMtc2hvd24iKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YXJnZXQudHlwZSA9ICJwYXNzd29yZCI7CiAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCJpcy1zaG93biIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIHNob3dIaWRlUGFzc3dvcmQoIi5wYXNzd29yZC10b2dnbGUiKTsKICB9Cgp9Ow=="},{"version":3,"mappings":"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","names":["SectionData","axios","name","data","email","password","error","message","salah","created","$route","params","undefined","methods","loginForm","post","then","response","console","log","authorisation","token","localStorage","setItem","JSON","stringify","user","permission","loginType","roles","$router","push","$emit","catch","$toast","mounted","showHidePassword","selector","elem","document","querySelectorAll","length","forEach","item","addEventListener","e","preventDefault","target","getElementById","getAttribute","type","classList","add","remove"],"sourceRoot":"","sources":["E:\\Codeee\\PPLI FE BE\\PPLI\\src\\components\\section\\LoginSection.vue"],"sourcesContent":["<template>\r\n    <section class=\"login-section section-space-b pt-4 pt-md-5 mt-md-3\">\r\n        <div class=\"container\">\r\n                <div class=\"row align-items-center justify-content-center\">\r\n                    <div class=\"col-lg-6 mb-5 mb-lg-0 d-none d-lg-block\">\r\n                        <img :src=\"SectionData.loginData.img\" alt=\"\" class=\"img-fluid\">\r\n                    </div><!-- end col-lg-6 -->\r\n                    <div class=\"col-lg-6\">\r\n                        <div v-if=\"message\" class=\"alert alert-success\" role=\"alert\">\r\n                            {{message}}\r\n                        </div>\r\n                        <div class=\"section-head-sm\">\r\n                            <h2 class=\"mb-1\">{{ SectionData.loginData.title }}</h2>\r\n                            <p>{{ SectionData.loginData.subTitle }}</p>\r\n                        </div>\r\n\r\n                            <div class=\"alert alert-success\" v-if=\"isSuccess\">Login Berhasil, Tunggu beberapa saat</div>\r\n                        <form @submit.prevent=\"loginForm\">\r\n                            <div class=\"form-floating mb-4\">\r\n                                <input type=\"email\" class=\"form-control\" id=\"emailAddress\" v-model=\"email\" placeholder=\"name@example.com\">\r\n                                <label for=\"emailAddress\">Email address</label>\r\n                            </div><!-- end form-floating -->\r\n                            <div class=\"form-floating mb-4\">\r\n                                <input type=\"password\" class=\"form-control password\" id=\"password\" v-model=\"password\" placeholder=\"Password\">\r\n                                <label for=\"password\">Password</label>\r\n                                <a href=\"password\" class=\"password-toggle\" title=\"Toggle show/hide pasword\">\r\n                                    <em class=\"password-shown ni ni-eye-off\"></em>\r\n                                    <em class=\"password-hidden ni ni-eye\"></em>\r\n                                </a>\r\n                            </div><!-- end form-floating -->\r\n                            <div class=\"d-flex flex-wrap align-items-center justify-content-between mb-4\">\r\n                                <!-- <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"logMeIn\">\r\n                                    <label class=\"form-check-label form-check-label-s1\" for=\"logMeIn\"> Remember me </label>\r\n                                </div> -->\r\n                                <router-link to=\"/forgot-password\" class=\"btn-link form-forget-password\">Forgot Password</router-link>\r\n                            </div>\r\n                            <button class=\"btn btn-dark w-100\" type=\"submit\">{{ SectionData.loginData.btnText }}</button>\r\n                            \r\n                            <!-- <span class=\"d-block my-4\">— or login with —</span>\r\n                            <ul class=\"btns-group d-flex\">\r\n                                <li class=\"flex-grow-1\" v-for=\"(list, i) in SectionData.loginData.btns\" :key=\"i\"><router-link :to=\"list.path\" class=\"btn d-block\" :class=\"list.btnClass\"><em class=\"ni\" :class=\"list.icon\"></em> {{ list.title }} </router-link></li>\r\n                            </ul> -->\r\n                            <p class=\"mt-3 form-text\">{{ SectionData.loginData.haveAccountText }} <router-link :to=\"SectionData.loginData.btnTextLink\" class=\"btn-link\">{{ SectionData.loginData.btnTextTwo }}</router-link></p>\r\n                        <div v-if=\"salah\" class=\"alert bg-danger text-white text-center \">\r\n                            Email atau Password Salah\r\n                        </div>\r\n                        </form>\r\n                    </div><!-- end col-lg-6 -->\r\n                </div><!-- end row -->\r\n            </div><!-- end container -->\r\n    </section>\r\n</template>\r\n<script>\r\n// Import component data. You can change the data in the store to reflect in all component\r\nimport SectionData from '@/store/store.js'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'LoginSection',\r\n  data () {\r\n    return {\r\n        SectionData,\r\n        email: '',\r\n        password: '',\r\n        error: null,\r\n        message: '',\r\n        salah: false,\r\n    }\r\n  },\r\n  created() {\r\n      if (this.$route.params.message !== undefined) {\r\n        this.message = this.$route.params.message + ' Please login!'\r\n      }\r\n    },\r\n  methods: {\r\n    \r\n    loginForm(){\r\n        axios.post('http://127.0.0.1:8000/api/login', {\r\n            email: this.email,\r\n            password: this.password\r\n          })\r\n          .then(response => {\r\n            // isSuccess: true,\r\n            console.log(response.data.authorisation.token)\r\n            localStorage.setItem('user', JSON.stringify(response.data.user))\r\n            localStorage.setItem('token', response.data.authorisation.token)\r\n            localStorage.setItem('permission', JSON.stringify(response.data.permission))\r\n\r\n            let loginType = response.data.user.roles\r\n            if (loginType === 'member') {\r\n              this.$router.push('/dashboard')\r\n            } else if (loginType === 'admin') {\r\n              this.$router.push('/offers')\r\n            // } else if (loginType === 'manager') {\r\n            //   this.$router.push('manager')\r\n            } else {\r\n              this.$router.push('/')\r\n            }\r\n\r\n            this.$emit('loggedIn')\r\n\r\n          })\r\n          .catch(error => {\r\n            this.salah = true,\r\n            this.$toast.error(\"Email atau Password Salah\");\r\n            this.error = error.response.data.error;\r\n          });\r\n    }\r\n    \r\n      },\r\n  mounted () {\r\n    /*  ======== Show/Hide passoword ======== */\r\n    function showHidePassword(selector){\r\n        let elem = document.querySelectorAll(selector);\r\n        if(elem.length > 0){\r\n            elem.forEach(item => {\r\n            item.addEventListener(\"click\", function(e){\r\n                e.preventDefault();\r\n                let target = document.getElementById(item.getAttribute(\"href\"));\r\n                if(target.type == \"password\") {\r\n                target.type = \"text\";\r\n                item.classList.add(\"is-shown\");\r\n                }else{\r\n                target.type = \"password\";\r\n                item.classList.remove(\"is-shown\");\r\n                }\r\n            });\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    showHidePassword(\".password-toggle\");\r\n\r\n  }\r\n}\r\n</script>\r\n      // async handleSubmit(){\r\n      //     const response = await axios.post('http://127.0.0.1:8000/api/login', {\r\n      //         email: this.email,\r\n      //         password: this.password\r\n      //     });\r\n  \r\n      //     this.$router.push(this.$route.query.redirect || '/dashboard')\r\n      //     console.log(response);\r\n      //     // localStorage.setItem('token', response.data.token)\r\n      // }"]}]}